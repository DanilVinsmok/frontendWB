{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport backend from \"../Api/brandsApi\";\nexport default function useBrandsContext() {\n  _s();\n\n  const defaultValue = [];\n  const [fetched, setFetched] = useState(defaultValue);\n  const [created, setCreated] = useState(defaultValue);\n  const [deleted, setDeleted] = useState(defaultValue);\n\n  const filterDeleted = brands => {\n    const idDeleted = deleted.map(item => item.id);\n    return brands.filter(item => idDeleted.indexOf(item.id) === -1);\n  };\n\n  useEffect(() => {\n    backend.getBrands().then(brands => setFetched(brands));\n  }, []);\n  return {\n    brands: {\n      all: filterDeleted([...fetched]),\n      created: filterDeleted(created),\n      deleted: deleted\n    },\n    create: brand => setCreated([...created, brand]),\n    delete: brand => setDeleted([...deleted, brand]),\n    setFetched: brands => setFetched(brands)\n  };\n}\n\n_s(useBrandsContext, \"uJX4QElpiRX1/l3wQTRwbqECTvo=\");","map":{"version":3,"names":["useEffect","useState","backend","useBrandsContext","defaultValue","fetched","setFetched","created","setCreated","deleted","setDeleted","filterDeleted","brands","idDeleted","map","item","id","filter","indexOf","getBrands","then","all","create","brand","delete"],"sources":["C:/Users/Vinsmoker/Desktop/wb/frontend/src/Hooks/useBrandsContext.ts"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport backend from \"../Api/brandsApi\"\r\nimport { IBrandDto } from \"../Api/dto/IBrand\"\r\n\r\n\r\nexport default function useBrandsContext() {\r\n\r\n    const defaultValue: IBrandDto[] = []\r\n\r\n    const [fetched, setFetched] = useState(defaultValue)\r\n    const [created, setCreated] = useState(defaultValue)\r\n    const [deleted, setDeleted] = useState(defaultValue)\r\n\r\n\r\n    const filterDeleted = (brands: IBrandDto[]) => {\r\n        const idDeleted = deleted.map(item => item.id)\r\n        return brands.filter(item => idDeleted.indexOf(item.id) === -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        backend.getBrands()\r\n            .then(brands => setFetched(brands))\r\n    }, [])\r\n\r\n    return {\r\n        brands: {\r\n            all: filterDeleted([...fetched]),\r\n            created: filterDeleted(created),\r\n            deleted: deleted\r\n        },\r\n        create: (brand: IBrandDto) => setCreated([...created, brand]),\r\n        delete: (brand: IBrandDto) => setDeleted([...deleted, brand]),\r\n        setFetched: (brands: IBrandDto[]) => setFetched(brands)\r\n    }\r\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAIA,eAAe,SAASC,gBAAT,GAA4B;EAAA;;EAEvC,MAAMC,YAAyB,GAAG,EAAlC;EAEA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAACG,YAAD,CAAtC;EACA,MAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAACG,YAAD,CAAtC;EACA,MAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAACG,YAAD,CAAtC;;EAGA,MAAMO,aAAa,GAAIC,MAAD,IAAyB;IAC3C,MAAMC,SAAS,GAAGJ,OAAO,CAACK,GAAR,CAAYC,IAAI,IAAIA,IAAI,CAACC,EAAzB,CAAlB;IACA,OAAOJ,MAAM,CAACK,MAAP,CAAcF,IAAI,IAAIF,SAAS,CAACK,OAAV,CAAkBH,IAAI,CAACC,EAAvB,MAA+B,CAAC,CAAtD,CAAP;EACH,CAHD;;EAKAhB,SAAS,CAAC,MAAM;IACZE,OAAO,CAACiB,SAAR,GACKC,IADL,CACUR,MAAM,IAAIN,UAAU,CAACM,MAAD,CAD9B;EAEH,CAHQ,EAGN,EAHM,CAAT;EAKA,OAAO;IACHA,MAAM,EAAE;MACJS,GAAG,EAAEV,aAAa,CAAC,CAAC,GAAGN,OAAJ,CAAD,CADd;MAEJE,OAAO,EAAEI,aAAa,CAACJ,OAAD,CAFlB;MAGJE,OAAO,EAAEA;IAHL,CADL;IAMHa,MAAM,EAAGC,KAAD,IAAsBf,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAagB,KAAb,CAAD,CANrC;IAOHC,MAAM,EAAGD,KAAD,IAAsBb,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAac,KAAb,CAAD,CAPrC;IAQHjB,UAAU,EAAGM,MAAD,IAAyBN,UAAU,CAACM,MAAD;EAR5C,CAAP;AAUH;;GA7BuBT,gB"},"metadata":{},"sourceType":"module"}