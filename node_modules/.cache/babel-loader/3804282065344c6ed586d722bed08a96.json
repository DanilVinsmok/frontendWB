{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport backend from \"../Api/brandsApi\";\nexport default function useBrandsContext() {\n  _s();\n\n  const defaultValue = [];\n  const [fetched, setFetched] = useState(defaultValue);\n  const [created, setCreated] = useState(defaultValue);\n  const [deleted, setDeleted] = useState(defaultValue);\n  const [selected, setSelected] = useState(defaultValue);\n  const [updated, setUpdate] = useState(defaultValue);\n\n  const filterDeleted = brands => {\n    const idDeleted = deleted.map(item => item.id);\n    return brands.filter(item => idDeleted.indexOf(item.id) === -1);\n  };\n\n  useEffect(() => {\n    backend.getBrands().then(brands => setFetched(brands));\n  }, [updated]);\n  return {\n    brands: {\n      all: filterDeleted([...fetched, ...created]),\n      created: filterDeleted(created),\n      deleted: deleted,\n      selected: selected,\n      updated: updated\n    },\n    create: brand => setCreated([...created, brand]),\n    delete: brand => setDeleted([...deleted, brand]),\n    select: brand => setSelected(brand),\n    updated: brand => setUpdate(brand),\n    setFetched: brands => setFetched(brands)\n  };\n}\n\n_s(useBrandsContext, \"FQeI9PpJqTmEvX6r76Uo9uZdhHY=\");","map":{"version":3,"names":["useEffect","useState","backend","useBrandsContext","defaultValue","fetched","setFetched","created","setCreated","deleted","setDeleted","selected","setSelected","updated","setUpdate","filterDeleted","brands","idDeleted","map","item","id","filter","indexOf","getBrands","then","all","create","brand","delete","select"],"sources":["C:/Users/Vinsmoker/Desktop/wb/frontend/src/Hooks/useBrandsContext.ts"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport backend from \"../Api/brandsApi\"\r\nimport { IBrandDto } from \"../Api/dto/IBrand\"\r\n\r\n\r\nexport default function useBrandsContext() {\r\n\r\n    const defaultValue: IBrandDto[] = []\r\n\r\n    const [fetched, setFetched] = useState(defaultValue)\r\n    const [created, setCreated] = useState(defaultValue)\r\n    const [deleted, setDeleted] = useState(defaultValue)\r\n    const [selected, setSelected] = useState(defaultValue)\r\n    const [updated, setUpdate] = useState(defaultValue)\r\n\r\n\r\n\r\n    const filterDeleted = (brands: IBrandDto[]) => {\r\n        const idDeleted = deleted.map(item => item.id)\r\n        return brands.filter(item => idDeleted.indexOf(item.id) === -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        backend.getBrands()\r\n            .then(brands => setFetched(brands))\r\n    }, [updated])\r\n\r\n    return {\r\n        brands: {\r\n            all: filterDeleted([...fetched, ...created]),\r\n            created: filterDeleted(created),\r\n            deleted: deleted,\r\n            selected: selected,\r\n            updated: updated\r\n        },\r\n        create: (brand: IBrandDto) => setCreated([...created, brand]),\r\n        delete: (brand: IBrandDto) => setDeleted([...deleted, brand]),\r\n        select: (brand: IBrandDto[]) => setSelected(brand),\r\n        updated: (brand: IBrandDto[]) => setUpdate(brand),\r\n        setFetched: (brands: IBrandDto[]) => setFetched(brands)\r\n    }\r\n}"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAIA,eAAe,SAASC,gBAAT,GAA4B;EAAA;;EAEvC,MAAMC,YAAyB,GAAG,EAAlC;EAEA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAACG,YAAD,CAAtC;EACA,MAAM,CAACG,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAACG,YAAD,CAAtC;EACA,MAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAACG,YAAD,CAAtC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAACG,YAAD,CAAxC;EACA,MAAM,CAACS,OAAD,EAAUC,SAAV,IAAuBb,QAAQ,CAACG,YAAD,CAArC;;EAIA,MAAMW,aAAa,GAAIC,MAAD,IAAyB;IAC3C,MAAMC,SAAS,GAAGR,OAAO,CAACS,GAAR,CAAYC,IAAI,IAAIA,IAAI,CAACC,EAAzB,CAAlB;IACA,OAAOJ,MAAM,CAACK,MAAP,CAAcF,IAAI,IAAIF,SAAS,CAACK,OAAV,CAAkBH,IAAI,CAACC,EAAvB,MAA+B,CAAC,CAAtD,CAAP;EACH,CAHD;;EAKApB,SAAS,CAAC,MAAM;IACZE,OAAO,CAACqB,SAAR,GACKC,IADL,CACUR,MAAM,IAAIV,UAAU,CAACU,MAAD,CAD9B;EAEH,CAHQ,EAGN,CAACH,OAAD,CAHM,CAAT;EAKA,OAAO;IACHG,MAAM,EAAE;MACJS,GAAG,EAAEV,aAAa,CAAC,CAAC,GAAGV,OAAJ,EAAa,GAAGE,OAAhB,CAAD,CADd;MAEJA,OAAO,EAAEQ,aAAa,CAACR,OAAD,CAFlB;MAGJE,OAAO,EAAEA,OAHL;MAIJE,QAAQ,EAAEA,QAJN;MAKJE,OAAO,EAAEA;IALL,CADL;IAQHa,MAAM,EAAGC,KAAD,IAAsBnB,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAaoB,KAAb,CAAD,CARrC;IASHC,MAAM,EAAGD,KAAD,IAAsBjB,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAakB,KAAb,CAAD,CATrC;IAUHE,MAAM,EAAGF,KAAD,IAAwBf,WAAW,CAACe,KAAD,CAVxC;IAWHd,OAAO,EAAGc,KAAD,IAAwBb,SAAS,CAACa,KAAD,CAXvC;IAYHrB,UAAU,EAAGU,MAAD,IAAyBV,UAAU,CAACU,MAAD;EAZ5C,CAAP;AAcH;;GApCuBb,gB"},"metadata":{},"sourceType":"module"}